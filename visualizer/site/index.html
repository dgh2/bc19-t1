<html>
    <head>
        <title>Clairvoyance</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <link rel='stylesheet' href='/main.css'>
    </head>
    <body>

        <div id='game'></div>

        <div id='tooltip'>
            <div id='tooltip-unit'>
                <div class='display-panel'>
                    <p class='text-center'><span id='unit_type' class='dyn_val'>Castle</span> [<span id='unit_id' class='dyn_val'>0</span>]</p>
                    <img class='img-fluid' src='' id='unit_img'/>

                    <div style='height:10px;'></div>
                    <p>Health: <span id='unit_health' class='dyn_val'>0</span>/<span id='unit_health_max' class='dyn_val'>0</span></p>
                    <div class="progress" style='height:3px;'>
                        <div id='unit_health_bar' class="progress-bar" role="progressbar" style="width: 0%"></div>
                    </div>

                    <div id='tooltip-unit-resources'>
                        <div style='height:10px;'></div>
                        <p>Fuel: <span id='unit_fuel' class='dyn_val'>0</span>/<span id='unit_fuel_max' class='dyn_val'>0</span></p>
                        <div class="progress" style='height:3px;'>
                            <div id='unit_fuel_bar' class="progress-bar" role="progressbar" style="width: 0%"></div>
                        </div>

                        <div style='height:10px;'></div>
                        <p>Karbonite: <span id='unit_karbonite' class='dyn_val'>0</span>/<span id='unit_karbonite_max' class='dyn_val'>0</span></p>
                        <div class="progress" style='height:3px;'>
                            <div id='unit_karbonite_bar' class="progress-bar" role="progressbar" style="width: 0%"></div>
                        </div>
                    </div>

                    <div style='height:10px;'></div>
                    <p>Signal: <span id='unit_signal' class='dyn_val'>0</span> <small>(r<sup>2</sup> = <span id='unit_signal_radius' class='dyn-val'>0</span>)</small></p>
                    <p>Castletalk: <span id='unit_castle_talk' class='dyn_val'>0</span></p>

                    <hr/>
                </div>
            </div>
            <div id='tooltip-tile'>
                <div class='display-panel'>
                    <p>Location: <span id='tile_location' class='dyn_val'>(0,0)</span></p>
                    <p>Passable: <span id='tile_passable' class='dyn_val'>true</span></p>
                    <p>Fuel: <span id='tile_fuel' class='dyn_val'>false</span></p>
                    <p>Karbonite: <span id='tile_karbonite' class='dyn_val'>false</span></p>
                </div>
            </div>
        </div>

        <div id='health'>
            <div class='row'>
                <div class='col-auto'>Red</div>
                <div class='col-5 align-self-center'>
                    <div class="progress" style='height:15px; flex-direction: row-reverse;'>
                        <div id='health_red' class="progress-bar red-bar" role="progressbar" style="width: 100%;"></div>
                    </div>
                </div>
                <div class='col-5 align-self-center'>
                    <div class="progress" style='height:15px;'>
                        <div id='health_blue' class="progress-bar blue-bar" role="progressbar" style="width: 100%"></div>
                    </div>
                </div>
                <div class='col-auto'>Blue</div>
            </div>
        </div>

        <div id='stats'>
            <div class='row'>
                <div class='col-2'>Karbonite</div>
                <div class='col-10 align-self-center'>
                    <div class="progress" style='height:15px;'>
                        <div id='karbonite_red' class="progress-bar red-bar" role="progressbar" style="width: 50%;"></div>
                        <div id='karbonite_blue' class="progress-bar blue-bar" role="progressbar" style="width: 50%;"></div>
                    </div>
                </div>
            </div>
            <div class='row'>
                <div class='col-2'>Fuel</div>
                <div class='col-10 align-self-center'>
                    <div class="progress" style='height:15px;'>
                        <div id='fuel_red' class="progress-bar red-bar" role="progressbar" style="width: 50%;"></div>
                        <div id='fuel_blue' class="progress-bar blue-bar" role="progressbar" style="width: 50%;"></div>
                    </div>
                </div>
            </div>
            <div class='row'>
                <div class='col-2'>Units</div>
                <div class='col-10 align-self-center'>
                    <div class="progress" style='height:15px;'>
                        <div id='units_red' class="progress-bar red-bar" role="progressbar" style="width: 50%;"></div>
                        <div id='units_blue' class="progress-bar blue-bar" role="progressbar" style="width: 50%;"></div>
                    </div>
                </div>
            </div>
            <div class='row'>
                <div class='col-2'>Unit health</div>
                <div class='col-10 align-self-center'>
                    <div class="progress" style='height:15px;'>
                        <div id='unit_value_red' class="progress-bar red-bar" role="progressbar" style="width: 50%;"></div>
                        <div id='unit_value_blue' class="progress-bar blue-bar" role="progressbar" style="width: 50%;"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id='controls'>
            <h2>Clairvoyance <small>v1.0.7</small></h2>
            <h6>
                Unofficial bc19 replay viewer by hgarrereyn 
                <br> 
                <br>
                <ul>
                    <li>Slider control/URL upload by ChiCubed</li>
                    <li>Display Options feature by Ryan Sharafuddin (Fuddin)</li>
                </ul>
            </h6>
            <a href='/settings'>Configuration...</a>

            <hr/>
            <p>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">BC19 Version</span>
                    </div>
                    <select class="custom-select" id="select_bc19_version">

                    </select>
                    <div class="input-group-append">
                        <button id='btn_switch_bc19_version' class="btn btn-primary" type="button">
                            <div id='btn_switch_text'>Switch</div>
                            <div id='btn_switch_loading' class='hidden'>
                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                Loading...
                            </div>
                        </button>
                    </div>
                </div>
            </p>
            <h6>Installed version: <span id='bc19_installed_version' class='dyn-val'>0.0.0</span></h6>
            <h6>Newest version: <span id='bc19_newest_version' class='dyn-val'>0.0.0</span></h6>
            <hr/>

            <h3>Replay Info:</h3>

            <div class='display-panel'>
                <p>Path: <span id='replay_path' class='dyn_val'>/my/replay/path/replay.bc19</span></p>
                <p>Seed: <span id='replay_seed' class='dyn_val'>1337</span></p>
            </div>

            <hr/>

            <h3>Time Controls:</h3>

            <div class='row pad-row'>
                <div class='col-2 align-self-center'>
                    <p class='no-margin'>Turn:</p>
                </div>
                <div class='col-auto'>
                    <button id='btn_prev_turn' type="button" class="btn btn-primary btn-sm">&lt; Prev</button>
                </div>
                <div class='col-5 align-self-center'>
                    <p class='no-margin text-center'><span id='game_curr_turn' class='dyn_val'>0</span> / <span id='game_max_turns'>0</span></p>
                </div>
                <div class='col-auto'>
                    <button id='btn_next_turn' type="button" class="btn btn-primary btn-sm">Next &gt;</button>
                </div>
            </div>

            <div class='row pad-row'>
                <div class='col-2 align-self-center'>
                    <p class='no-margin'>Round:</p>
                </div>
                <div class='col-auto'>
                    <button id='btn_prev_round' type="button" class="btn btn-primary btn-sm">&lt; Prev</button>
                </div>
                <div class='col-5 align-self-center'>
                    <p class='no-margin text-center'><span id='game_curr_round' class='dyn_val'>0</span> / <span id='game_max_rounds'>0</span></p>
                </div>
                <div class='col-auto'>
                    <button id='btn_next_round' type="button" class="btn btn-primary btn-sm">Next &gt;</button>
                </div>
            </div>

            <div class='row pad-row'>
                <div class='col-2 align-self-center'>
                    <p class='no-margin'>Robin:</p>
                </div>
                <div class='col-auto'>
                    <button id='btn_prev_robin' type="button" class="btn btn-primary btn-sm">&lt; Prev</button>
                </div>
                <div class='col-5 align-self-center'>
                    <p class='no-margin text-center'><span id='game_curr_robin' class='dyn_val'>0</span> / <span id='game_max_robins'>0</span></p>
                </div>
                <div class='col-auto'>
                    <button id='btn_next_robin' type="button" class="btn btn-primary btn-sm">Next &gt;</button>
                </div>
            </div>

            <hr/>

            <div class='row pad-row'>
                <div class='col-3 align-self-center'>
                    <p class='no-margin'>Autoplay:</p>
                </div>
                <div class='col-auto'>
                    <button id='btn_start_autoplay' type="button" class="btn btn-primary btn-sm">Start</button>
                    <button id='btn_stop_autoplay' type="button" class="btn btn-primary btn-sm disabled">Stop</button>
                    <button id='btn_jump_start' type="button" class="btn btn-primary btn-sm">Reset</button>
                </div>
            </div>

            <div class='row pad-row'>
                <div class='col-3 align-self-center'>
                    <p class='no-margin'>Speed:</p>
                </div>
                <div class='col-7'>
                    <div class="input-group input-group-sm mb-0">
                        <input id='input_set_speed' type="range" min="200" max="1000" value="500" class="form-control-range">
                    </div>
                </div>
            </div>

            <div class='row pad-row'>
                <div class='col-auto pr-2 align-self-center'>
                    <p class='no-margin'>Use</p>
                </div>
                <div class='col-auto px-0'>
                    <div class="btn-group btn-group-toggle btn-group-sm mb-0" id="radio_select_input_type" data-toggle="buttons">
                        <label class="btn btn-primary active">
                            <input type="radio" name="radio_select_input_type" value="number" autocomplete="off" checked>
                            Numbers
                        </label>
                        <label class="btn btn-primary">
                            <input type="radio" name="radio_select_input_type" value="range" autocomplete="off">
                            Sliders
                        </label>
                    </div>
                </div>
                <div class='col-auto pl-2 align-self-center'>
                    <p class='no-margin'>for turn/round inputs</p>
                </div>
            </div>

            <div class='row pad-row'>
                <div class='col-3 align-self-center'>
                    <p class='no-margin'>Set Turn:</p>
                </div>
                <div class='col-7'>
                    <div class="input-group input-group-sm mb-0">
                        <input id='input_set_turn' type="number" class="form-control" placeholder="Turn">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="button" id="btn_set_turn">Go</button>
                        </div>
                    </div>
                    <div class="input-group input-group-sm mb-0 hidden">
                        <input id='input_range_set_turn' type="range" class="form-control-range">
                    </div>
                </div>
            </div>

            <div class='row pad-row'>
                <div class='col-3 align-self-center'>
                    <p class='no-margin'>Set Round:</p>
                </div>
                <div class='col-7'>
                    <div class="input-group input-group-sm mb-0">
                        <input id='input_set_round' type="number" class="form-control" placeholder="Round">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="button" id="btn_set_round">Go</button>
                        </div>
                    </div>
                    <div class="input-group input-group-sm mb-0 hidden">
                        <input id='input_range_set_round' type="range" class="form-control-range">
                    </div>
                </div>
            </div>

            <hr/>
            <div>
                <h3>Display Options</h3>
                <div id="allSliders">
                    <div class="sliderLabelContainer">
                        <p class="sliderLabel">Dot movable:</p>
                    </div>
                    <div class="container">
                        <label class="switch" for="shadeMovable">
                            <input type="checkbox" id="shadeMovable" checked/>
                            <div class="slider round"></div>
                        </label>
                    </div>

                    <div class="sliderLabelContainer">
                        <p class="sliderLabel">Shade attackable:</p>
                    </div>
                    <div class="container">
                        <label class="switch" for="shadeAttackable">
                            <input type="checkbox" id="shadeAttackable" checked />
                            <div class="slider round"></div>
                        </label>
                    </div>

                    <div class="sliderLabelContainer">
                        <p class="sliderLabel">Shade visible:</p>
                    </div>
                    <div class="container">
                        <label class="switch" for="shadeVisible">
                            <input type="checkbox" id="shadeVisible" checked/>
                            <div class="slider round"></div>
                        </label>
                    </div>
                </div>
            </div>

            <hr/>

            <h3>Stat Bars:</h3>

            <div class='row'>
                <div class='col-auto'>
                    <button id='btn_toggle_health_bars' type="button" class="btn btn-primary btn-sm">Toggle Health Bars</button>
                </div>
                <div class='col-auto'>
                    <button id='btn_toggle_stat_bars' type="button" class="btn btn-primary btn-sm">Toggle Stat Bars</button>
                </div>
            </div>

            <hr/>

            <h3>Turn Queue:</h3>

            <div class='display-panel' id='turn_queue'>
                <p class='selectable'>1: Castle [#1234]</a>
                <p class='selectable'>2: Castle [#1234]</p>
                <p class='selectable'>3: Castle [#1234]</p>
            </div>

        </div>

        <!-- Canvas drawing library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.1/pixi.min.js"></script>
        <script src='/socket.io.slim.js'></script>
        <script src='/main.js'></script>
    </body>
</html>
